(function(r,a){typeof exports=="object"&&typeof module!="undefined"?a(exports):typeof define=="function"&&define.amd?define(["exports"],a):(r=typeof globalThis!="undefined"?globalThis:r||self,a(r.duck={}))})(this,function(r){"use strict";var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.init=void 0;var N=a.default=({IDL:t})=>{const o=t.Rec();t.Record({logo:t.Opt(t.Text),name:t.Opt(t.Text),custodians:t.Opt(t.Vec(t.Principal)),symbol:t.Opt(t.Text)});const n=t.Variant({UnauthorizedOperator:t.Null,SelfTransfer:t.Null,TokenNotFound:t.Null,UnauthorizedOwner:t.Null,TxNotFound:t.Null,SelfApprove:t.Null,OperatorNotFound:t.Null,ExistedNFT:t.Null,OwnerNotFound:t.Null,Other:t.Text}),e=t.Variant({Ok:t.Nat,Err:n}),c=t.Variant({Ok:t.Bool,Err:n}),u=t.Record({logo:t.Opt(t.Text),name:t.Opt(t.Text),created_at:t.Nat64,upgraded_at:t.Nat64,custodians:t.Vec(t.Principal),symbol:t.Opt(t.Text)});o.fill(t.Vec(t.Tuple(t.Text,t.Variant({Nat64Content:t.Nat64,Nat32Content:t.Nat32,BoolContent:t.Bool,Nat8Content:t.Nat8,Int64Content:t.Int64,IntContent:t.Int,NatContent:t.Nat,Nat16Content:t.Nat16,Int32Content:t.Int32,Int8Content:t.Int8,FloatContent:t.Float64,Int16Content:t.Int16,BlobContent:t.Vec(t.Nat8),NestedContent:o,Principal:t.Principal,TextContent:t.Text}))));const i=t.Variant({Nat64Content:t.Nat64,Nat32Content:t.Nat32,BoolContent:t.Bool,Nat8Content:t.Nat8,Int64Content:t.Int64,IntContent:t.Int,NatContent:t.Nat,Nat16Content:t.Nat16,Int32Content:t.Int32,Int8Content:t.Int8,FloatContent:t.Float64,Int16Content:t.Int16,BlobContent:t.Vec(t.Nat8),NestedContent:o,Principal:t.Principal,TextContent:t.Text}),s=t.Variant({Ok:t.Opt(t.Principal),Err:n}),l=t.Variant({Ok:t.Vec(t.Nat),Err:n}),p=t.Record({transferred_at:t.Opt(t.Nat64),transferred_by:t.Opt(t.Principal),owner:t.Opt(t.Principal),operator:t.Opt(t.Principal),approved_at:t.Opt(t.Nat64),approved_by:t.Opt(t.Principal),properties:t.Vec(t.Tuple(t.Text,i)),is_burned:t.Bool,token_identifier:t.Nat,burned_at:t.Opt(t.Nat64),burned_by:t.Opt(t.Principal),minted_at:t.Nat64,minted_by:t.Principal}),d=t.Variant({Ok:t.Vec(p),Err:n}),T=t.Record({cycles:t.Nat,total_transactions:t.Nat,total_unique_holders:t.Nat,total_supply:t.Nat}),F=t.Variant({Burn:t.Null,Mint:t.Null,Approval:t.Null,TransactionHistory:t.Null}),O=t.Variant({Ok:p,Err:n}),x=t.Record({time:t.Nat64,operation:t.Text,details:t.Vec(t.Tuple(t.Text,i)),caller:t.Principal}),f=t.Variant({Ok:x,Err:n});return t.Service({approve:t.Func([t.Principal,t.Nat],[e],[]),balanceOf:t.Func([t.Principal],[e],["query"]),burn:t.Func([t.Nat],[e],[]),custodians:t.Func([],[t.Vec(t.Principal)],["query"]),cycles:t.Func([],[t.Nat],["query"]),isApprovedForAll:t.Func([t.Principal,t.Principal],[c],["query"]),logo:t.Func([],[t.Opt(t.Text)],["query"]),metadata:t.Func([],[u],["query"]),mint:t.Func([t.Principal,t.Nat,t.Vec(t.Tuple(t.Text,i))],[e],[]),name:t.Func([],[t.Opt(t.Text)],["query"]),operatorOf:t.Func([t.Nat],[s],["query"]),operatorTokenIdentifiers:t.Func([t.Principal],[l],["query"]),operatorTokenMetadata:t.Func([t.Principal],[d],["query"]),ownerOf:t.Func([t.Nat],[s],["query"]),ownerTokenIdentifiers:t.Func([t.Principal],[l],["query"]),ownerTokenMetadata:t.Func([t.Principal],[d],["query"]),setApprovalForAll:t.Func([t.Principal,t.Bool],[e],[]),setCustodians:t.Func([t.Vec(t.Principal)],[],[]),setLogo:t.Func([t.Text],[],[]),setName:t.Func([t.Text],[],[]),setSymbol:t.Func([t.Text],[],[]),stats:t.Func([],[T],["query"]),supportedInterfaces:t.Func([],[t.Vec(F)],["query"]),symbol:t.Func([],[t.Opt(t.Text)],["query"]),tokenMetadata:t.Func([t.Nat],[O],["query"]),totalSupply:t.Func([],[t.Nat],["query"]),totalTransactions:t.Func([],[t.Nat],["query"]),totalUniqueHolders:t.Func([],[t.Nat],["query"]),transaction:t.Func([t.Nat],[f],["query"]),transfer:t.Func([t.Principal,t.Nat],[e],[]),transferFrom:t.Func([t.Principal,t.Principal,t.Nat],[e],[])})};const g=({IDL:t})=>{const o=t.Record({logo:t.Opt(t.Text),name:t.Opt(t.Text),custodians:t.Opt(t.Vec(t.Principal)),symbol:t.Opt(t.Text)});return[t.Opt(o)]};a.init=g;const y=async()=>{const t="6hgw2-nyaaa-aaaai-abkqq-cai",o=[t];console.log("logging in..."),await window.ic.plug.requestConnect({whitelist:o}),console.log("Plug has logged in, grabbing actor...");const n=await window.ic.plug.agent.getPrincipal();console.log("Your principal is "+n);const e=await window.ic.plug.isConnected();console.log(e?"You have been logged in with plug.":"Please try again.");const c=await window.ic.plug.createActor({canisterId:t,interfaceFactory:N});console.log("Actor created successfully, getting token supply...");const u=await c.totalSupply(),i=u.toString().length,l=Number(await u.toString().slice(0,i))+1;console.log("Next token in line is "+l),console.log("Minting nft...");const p=[["location",{TextContent:"https://qgh4x-kyaaa-aaaaj-afk5q-cai.raw.ic0.app/0/preview.jpg"}],["glb",{TextContent:"https://qgh4x-kyaaa-aaaaj-afk5q-cai.raw.ic0.app/0/duck.glb"}],["json",{TextContent:'{"Achievement Unlocked":"Minted!"}'}]];await c.mint(n,l,p),console.log(result)};r.plugLogin=y,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
